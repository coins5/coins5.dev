---
interface Props {
  project: ProjectSchema;
  languages: RepoLang[];
}
import type { ProjectSchema } from "@/schemas/project";
import SVGGithub from "@/assets/svg/github.svg";
import SVGWeb from "@/assets/svg/web.svg";
import type { RepoLang } from "@/shared/githubStats";
const { project, languages } = Astro.props;
---

<div class="card lg:card-side bg-base-100 lg:h-75 group">
  <figure class="overflow-hidden">
    <img
      src={project.image}
      alt={project.title}
      class="object-cover transition-transform duration-500 ease-in-out hover:scale-110"
    />
  </figure>
  <div class="card-body">
    <h2 class="card-title">{project.title}</h2>
    <p>{project.description}</p>
    <div>
      <div class="overflow-x-auto">
        <table class="table">
          <!-- head -->
          <thead>
            <tr>
              <th></th>
              <th></th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {
              languages.map((l) => (
                <tr>
                  <td>
                    <span class="text-base-content/60">{l.pct}%</span>
                  </td>
                  <td class="text-left">{l.name}</td>
                  <td>
                    <progress
                      class="progress progress-primary w-56"
                      value={l.pct}
                      max="100"
                    />
                  </td>
                </tr>
              ))
            }
          </tbody>
        </table>
      </div>
    </div>
    <div class="card-actions mt-4">
      <a class="btn btn-link" href={project.repo} target="_blank"
        ><SVGGithub />Repo</a
      >
      <a class="btn btn-link" target="_blank" href={project.url}>
        <SVGWeb /> Web
      </a>
    </div>
    <div class="card-actions mt-4 justify-end">
      <a class="btn btn-primary" href={project.relatedSeries[0].id}>Learn </a>
    </div>
  </div>
</div>
